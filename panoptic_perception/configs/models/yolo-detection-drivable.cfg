
[heads]
detection_head_idx = 24
segmentation_head_idx = 33
lane_segmentation_head_idx = -1

[Focus]
layer_idx=0
route=-1
in_channels=3
out_channels=32
kernel_size=3

[ConvBlock]
layer_idx=1
route=-1
in_channels=32
out_channels=64
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=2
route=-1
in_channels=64
out_channels=64
num_bottlenecks=1
residual=True

[ConvBlock]
layer_idx=3
route=-1
in_channels=64
out_channels=128
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=4
route=-1
in_channels=128
out_channels=128
num_bottlenecks=3
residual=True

[ConvBlock]
layer_idx=5
route=-1
in_channels=128
out_channels=256
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=6
route=-1
in_channels=256
out_channels=256
num_bottlenecks=3
residual=True

[ConvBlock]
layer_idx=7
route=-1
in_channels=256
out_channels=512
kernel_size=3
stride=2

[SPP]
layer_idx=8
route=-1
in_channels=512
out_channels=512
pool_sizes=5,9,13

[BottleneckCSP]
layer_idx=9
route=-1
in_channels=512
out_channels=512
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=10
route=-1
in_channels=512
out_channels=256
kernel_size=1
stride=1

[Upsample]
layer_idx=11
scale_factor=2
mode=nearest

[Concat]
layer_idx=12
route=-1,6

[BottleneckCSP]
layer_idx=13
route=-1
in_channels=512
out_channels=256
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=14
route=-1
in_channels=256
out_channels=128
kernel_size=1
stride=1

[Upsample]
layer_idx=15
scale_factor=2
mode=nearest

[Concat]
layer_idx=16
route=-1,4

[BottleneckCSP]
layer_idx=17
route=-1
in_channels=256
out_channels=128
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=18
route=-1
in_channels=128
out_channels=128
kernel_size=3
stride=2

[Concat]
layer_idx=19
route=-1,14

[BottleneckCSP]
layer_idx=20
route=-1
in_channels=256
out_channels=256
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=21
route=-1
in_channels=256
out_channels=256
kernel_size=3
stride=2

[Concat]
layer_idx=22
route=-1,10

[BottleneckCSP]
layer_idx=23
route=-1
in_channels=512
out_channels=512
num_bottlenecks=1
residual=False

[Detect]
layer_idx=24
route=17,20,23
num_classes=6
anchors=[[6,11,11,13,7,22], [15,22,13,45,25,33], [37,57,71,93,146,207]], [128, 256, 512]

[ConvBlock]
layer_idx=25
route=16
in_channels=256
out_channels=128
kernel_size=3
stride=1

[Upsample]
layer_idx=26
scale_factor=2
mode=nearest

[BottleneckCSP]
layer_idx=27
route=-1
in_channels=128
out_channels=64
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=28
route=-1
in_channels=64
out_channels=32
kernel_size=3
stride=1

[Upsample]
layer_idx=29
scale_factor=2
mode=nearest

[ConvBlock]
layer_idx=30
route=-1
in_channels=32
out_channels=16
kernel_size=3
stride=1

[BottleneckCSP]
layer_idx=31
route=-1
in_channels=16
out_channels=8
num_bottlenecks=1
residual=False

[Upsample]
layer_idx=32
scale_factor=2
mode=nearest

[ConvBlock]
layer_idx=33
route=-1
in_channels=8
out_channels=3
kernel_size=3
stride=1