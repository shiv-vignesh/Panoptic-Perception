
[heads]
detection_head_idx = 24

[Focus]
layer_idx=0
route=-1
in_channels=3
out_channels=32
kernel_size=3

[ConvBlock]
layer_idx=1
route=-1
in_channels=32
out_channels=64
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=2
route=-1
in_channels=64
out_channels=64
num_bottlenecks=1
residual=True

[ConvBlock]
layer_idx=3
route=-1
in_channels=64
out_channels=128
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=4
route=-1
in_channels=128
out_channels=128
num_bottlenecks=3
residual=True

[ConvBlock]
layer_idx=5
route=-1
in_channels=128
out_channels=256
kernel_size=3
stride=2

[BottleneckCSP]
layer_idx=6
route=-1
in_channels=256
out_channels=256
num_bottlenecks=3
residual=True

[ConvBlock]
layer_idx=7
route=-1
in_channels=256
out_channels=512
kernel_size=3
stride=2

[SPP]
layer_idx=8
route=-1
in_channels=512
out_channels=512
pool_sizes=5,9,13

[BottleneckCSP]
layer_idx=9
route=-1
in_channels=512
out_channels=512
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=10
route=-1
in_channels=512
out_channels=256
kernel_size=1
stride=1

[Upsample]
layer_idx=11
scale_factor=2
mode=nearest

[Concat]
layer_idx=12
route=-1,6

[BottleneckCSP]
layer_idx=13
route=-1
in_channels=512
out_channels=256
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=14
route=-1
in_channels=256
out_channels=128
kernel_size=1
stride=1

[Upsample]
layer_idx=15
scale_factor=2
mode=nearest

[Concat]
layer_idx=16
route=-1,4

[BottleneckCSP]
layer_idx=17
route=-1
in_channels=256
out_channels=128
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=18
route=-1
in_channels=128
out_channels=128
kernel_size=3
stride=2

[Concat]
layer_idx=19
route=-1,14

[BottleneckCSP]
layer_idx=20
route=-1
in_channels=256
out_channels=256
num_bottlenecks=1
residual=False

[ConvBlock]
layer_idx=21
route=-1
in_channels=256
out_channels=256
kernel_size=3
stride=2

[Concat]
layer_idx=22
route=-1,10

[BottleneckCSP]
layer_idx=23
route=-1
in_channels=512
out_channels=512
num_bottlenecks=1
residual=False

[Detect]
layer_idx=24
route=17,20,23
num_classes=6
anchors=[[3,9,5,11,4,20], [7,18,6,39,12,31], [19,50,38,81,68,157]], [128, 256, 512]